{"version":3,"sources":["controller/customers.js"],"names":["module","exports","$scope","$log","FastBill","getCustomers","then","customers","$apply","model","currentPage","customersPerPage","startCustomer","endCustomer","customersPerPageOptions","$watch","values","debug","parseInt","i","Math","max"],"mappings":"CAAC,WACG,YACAA,QAAOC,SAAW,SAAU,OAAQ,WAAY,SAAUC,EAAQC,EAAMC,GACpEA,EAASC,eAAeC,KAAK,SAAUC,GACnCL,EAAOM,OAAO,WACVN,EAAOK,UAAYA,MAK3BL,EAAOO,OACHC,YAAa,EACbC,iBAAkB,GAClBC,cAAe,EACfC,YAAa,IAEjBX,EAAOY,yBAA2B,EAAG,EAAG,GAAI,GAAI,GAAI,IAEpDZ,EAAOa,OAAO,6CAA8C,SAAUC,GAClEb,EAAKc,MAAM,yBAA0BD,EACrC,IAAIN,GAAcQ,SAASF,EAAO,IAC9BL,EAAmBO,SAASF,EAAO,IACnCG,EAAIC,KAAKC,IAAI,EAAGX,EAAc,EAElCR,GAAOO,MAAMG,cAAgBO,EAAIR,EACjCT,EAAOO,MAAMI,YAAcX,EAAOO,MAAMG,cAAgBD","file":"controller/customers.js","sourcesContent":["(function () {\n    'use strict';\n    module.exports = ['$scope', '$log', 'FastBill', function ($scope, $log, FastBill) {\n        FastBill.getCustomers().then(function (customers) {\n            $scope.$apply(function () {\n                $scope.customers = customers;\n            });\n        });\n\n        // pagination\n        $scope.model = {\n            currentPage: 1,\n            customersPerPage: 10,\n            startCustomer: 0,\n            endCustomer: 10\n        };\n        $scope.customersPerPageOptions = [1, 5, 10, 20, 25, 50];\n\n        $scope.$watch('[model.currentPage,model.customersPerPage]', function (values) {\n            $log.debug('[CustomersCtrl] values', values);\n            var currentPage = parseInt(values[0]),\n                customersPerPage = parseInt(values[1]),\n                i = Math.max(0, currentPage - 1);\n\n            $scope.model.startCustomer = i * customersPerPage;\n            $scope.model.endCustomer = $scope.model.startCustomer + customersPerPage;\n        });\n    }];\n}());\n"],"sourceRoot":"/source/"}