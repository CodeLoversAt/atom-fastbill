{"version":3,"names":[],"mappings":"","sources":["js/controller/projects.js"],"sourcesContent":["export default ['$scope', '$log', 'FastBill', '$filter', '$timeout', '$state', function ($scope, $log, FastBill, $filter, $timeout, $state) {\n    function projectsLoaded (projects) {\n        $scope.$apply(function () {\n            $scope.projects = projects;\n        });\n    }\n\n    if ($state.params.customerId) {\n        FastBill.getProjects($state.params.customerId).then(projectsLoaded);\n    } else {\n        FastBill.getProjects(null).then(projectsLoaded);\n    }\n\n    // pagination\n    $scope.model = {\n        currentPage: 1,\n        projectsPerPage: 10,\n        startProject: 0,\n        endProject: 10\n    };\n    $scope.projectsPerPageOptions = [1, 5, 10, 20, 25, 50];\n\n    $scope.$watch('[model.currentPage,model.projectsPerPage]', function (values) {\n        $log.debug('[ProjectsCtrl] values', values);\n        var currentPage = parseInt(values[0]),\n            projectsPerPage = parseInt(values[1]),\n            i = Math.max(0, currentPage - 1);\n\n        $scope.model.startProject = i * projectsPerPage;\n        $scope.model.endProject = $scope.model.startProject + projectsPerPage;\n    });\n}];"],"file":"js/controller/projects.js","sourceRoot":"/source/"}