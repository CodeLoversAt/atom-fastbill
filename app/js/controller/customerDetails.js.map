{"version":3,"sources":["controller/customerDetails.js"],"names":["module","exports","$scope","$log","FastBill","$state","debug","getCustomer","params","customerId","then","customer","$apply","go","data","warn","tabs","name","label","active","controller","templateUrl","tabSelected","tab","$broadcast"],"mappings":"CAAC,WACG,YACAA,QAAOC,SAAW,SAAU,OAAQ,WAAY,SAAU,SAAUC,EAAQC,EAAMC,EAAUC,GACxFF,EAAKG,MAAM,+BAAgCD,GAE3CD,EAASG,YAAYF,EAAOG,OAAOC,YAAYC,KAAK,SAAUC,GACtDA,EACAT,EAAOU,OAAO,WACVV,EAAOS,SAAWA,IAGtBN,EAAOQ,GAAG,cAEf,SAAUC,GACTX,EAAKY,KAAK,gDAAiDD,KAG/DZ,EAAOc,OAECC,KAAM,WACNC,MAAO,oBACPC,QAAQ,EACRC,WAAY,eACZC,YAAa,2BAGbJ,KAAM,WACNC,MAAO,oBACPC,QAAQ,EACRC,WAAY,eACZC,YAAa,2BAIrBnB,EAAOoB,YAAc,SAAUC,GAC3BrB,EAAOsB,WAAW,cAAeD","file":"controller/customerDetails.js","sourcesContent":["(function () {\n    'use strict';\n    module.exports = ['$scope', '$log', 'FastBill', '$state', function ($scope, $log, FastBill, $state) {\n        $log.debug('[CustomerDetailsCtrl] $state', $state);\n\n        FastBill.getCustomer($state.params.customerId).then(function (customer) {\n            if (customer) {\n                $scope.$apply(function () {\n                    $scope.customer = customer;\n                });\n            } else {\n                $state.go('customers');\n            }\n        }, function (data) {\n            $log.warn('[CustomerDetailsCtrl] failed to load customer', data);\n        });\n\n        $scope.tabs = [\n            {\n                name: 'invoices',\n                label: 'CUSTOMER.INVOICES',\n                active: true,\n                controller: 'InvoicesCtrl',\n                templateUrl: 'partials/invoices.html'\n            },\n            {\n                name: 'projects',\n                label: 'CUSTOMER.PROJECTS',\n                active: false,\n                controller: 'ProjectsCtrl',\n                templateUrl: 'partials/projects.html'\n            }\n        ];\n\n        $scope.tabSelected = function (tab) {\n            $scope.$broadcast('tabSelected', tab);\n        };\n    }];\n}());\n"],"sourceRoot":"/source/"}