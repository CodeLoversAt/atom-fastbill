{"version":3,"names":[],"mappings":"","sources":["lib/bridge.js"],"sourcesContent":["import remote from 'remote';\nimport ipc from 'ipc';\n\nexport default class Bridge {\n    downloadFile(fileName, url, dialogTitle) {\n        var win = remote.getCurrentWindow(),\n            dialog = remote.require('dialog'),\n            userHome = ipc.sendSync('get-user-home');\n\n        if (!/\\/$/.test(userHome)) {\n            userHome += '/';\n        }\n\n        dialog.showSaveDialog(win, {\n            defaultPath: userHome + fileName,\n            title: dialogTitle\n        }, function (path) {\n            if (!path) {\n                // user cancelled\n                return;\n            }\n\n            var request = remote.require('request'),\n                fs = remote.require('fs');\n\n            request(url).pipe(fs.createWriteStream(path));\n        });\n\n    }\n}"],"file":"lib/bridge.js","sourceRoot":"/source/"}